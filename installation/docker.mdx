---
title: "Docker"
description: "Run dovi_convert in a container with a web-based terminal"
icon: "whale"
---

The dovi_convert Docker container provides a self-contained environment with all dependencies pre-installed. It includes a web-based terminal, so you can access the tool from any browser without installing anything on your host system.

## Features

- **Web terminal** — Access dovi_convert through your browser at `http://your-host:7681`
- **Pre-configured environment** — All dependencies (ffmpeg, dovi_tool, mkvtoolnix, mediainfo) included
- **NAS-friendly** — Designed for network storage devices and servers
- **User mapping** — Run with your own UID/GID to avoid file permission issues

## Quick Start

<Tabs>
  <Tab title="Docker run">
    ```bash
    docker run -d \
      --name=dovi_convert \
      -e PUID=1000 \
      -e PGID=1000 \
      -e TZ=Europe/Berlin \
      -p 7681:7681 \
      -v /path/to/media:/data \
      # -v /path/to/ssd:/cache \  # Optional: fast temp storage
      --restart unless-stopped \
      cryptochrome/dovi_convert:latest
    ```
  </Tab>
  <Tab title="Docker Compose">
    Save this as `docker-compose.yml`:

    ```yaml
    services:
      dovi_convert:
        image: cryptochrome/dovi_convert:latest
        container_name: dovi_convert
        hostname: dovi-convert
        environment:
          - PUID=1000  # Your user ID (run 'id' to find)
          - PGID=1000  # Your group ID
          - TZ=Europe/Berlin  # Your timezone
        volumes:
          # Mount your media folder(s) here
          - /mnt/media/movies:/data/movies
          - /mnt/media/tv:/data/tv
          # - /path/to/ssd:/cache  # Optional: fast temp storage
        ports:
          - 7681:7681
        restart: unless-stopped
    ```

    Then start the container:

    ```bash
    docker compose up -d
    ```
  </Tab>
</Tabs>

Then open `http://your-docker-host:7681` in your browser.

## Configuration

### User and Group IDs

The `PUID` and `PGID` environment variables control which user the container runs as. Set these to match your host user to avoid permission problems when accessing files.

To find your user and group IDs:

```bash
id
```

This outputs something like `uid=1000(yourname) gid=1000(yourname)`. Use these values for `PUID` and `PGID`.

### Environment Variables

| Variable | Default         | Description                   |
| -------- | --------------- | ----------------------------- |
| `PUID`   | 1000            | User ID for file permissions  |
| `PGID`   | 1000            | Group ID for file permissions |
| `TZ`     | `Europe/Berlin` | Timezone for log timestamps   |

### Volume Mounts

Mount your media directories to `/data` inside the container. You can mount multiple paths:

```bash
-v /mnt/movies:/data/movies \
-v /mnt/tv:/data/tv
```

Inside the container, access your files at `/data/movies`, `/data/tv`, etc.

### Temp Directory for Faster Conversions

If your media is on slow storage (mechanical HDDs), you can bind-mount a faster drive for temporary files:

```bash
-v /path/to/ssd:/cache
```

Then use the `--temp` flag when converting:

```bash
dovi_convert convert /data/movie.mkv --temp /cache
```

Temporary files are written to the fast drive while the source and final output stay on your media volume.

### Port Configuration

The web terminal runs on port 7681 inside the container. Map it to any available port on your host:

```bash
-p 8080:7681  # Access at http://your-host:8080
```

## Using the Web Terminal

Once the container is running, open `http://your-docker-host:7681` in your browser. You'll see a terminal session with dovi_convert ready to use.

The container includes a `dovi` alias for convenience:

```bash
dovi help          # Same as dovi_convert --help
dovi scan          # Scan all files in current directory
etc.
```

## Next Steps

<CardGroup cols={2}>
  <Card title="File Scanning" icon="scanner-image" href="/essentials/scanning">
    Analyze your files to identify formats and FEL status
  </Card>
  <Card title="File Conversion" icon="recycle" href="/essentials/conversion">
    Convert files or directories to Profile 8.1
  </Card>
</CardGroup>