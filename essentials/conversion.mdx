---
title: "File Conversion"
description: "Convert Dolby Vision Profile 7 files to Profile 8.1"
icon: "download"
---

The `-convert` command converts a single Dolby Vision Profile 7 file to Profile 8.1. The process strips the Enhancement Layer, injects the dynamic metadata (RPU) into the Base Layer, and produces a file compatible with most Dolby Vision devices.

## How conversion works

The conversion process:

1. **Extracts** the video stream from your MKV file
2. **Strips** the Enhancement Layer (EL)
3. **Injects** the RPU metadata into the Base Layer
4. **Remuxes** everything back into a new MKV file

<Callout icon="circle-info" color="#8caaee" iconType="solid">
  No video re-encoding happens. The bitstream is processed directly, so conversion is fast and quality is preserved exactly.
</Callout>

## Safety features

dovi_convert is designed to be non-destructive:

- **Automatic backup** - Your original file is renamed to `*.bak.dovi_convert` before any changes
- **Scan before convert** - Each file is analyzed to detect Complex FEL
- **Safe defaults** - Complex FEL files are skipped unless you explicitly override

All audio and subtitle tracks are preserved in the converted file.

## Basic usage

Convert a single file:

```bash
dovi_convert -convert "Movie.mkv"
```

The command:

1. Analyzes the file for FEL complexity
2. Creates a backup (`Movie.mkv.bak.dovi_convert`)
3. Converts to Profile 8.1
4. Replaces the original with the converted file

## Conversion modes

dovi_convert has two processing modes:

### Standard mode (default)

Pipes video data directly between ffmpeg and dovi_tool. Fast and efficient - requires no temporary disk space for the video stream.

```bash
dovi_convert -convert "Movie.mkv"
```

### Safe mode

Extracts the video stream to disk first, then processes it. Slower, but handles files that Standard mode can't process.

```bash
dovi_convert -convert "Movie.mkv" -safe
```

<Callout icon="circle-info" color="#8caaee" iconType="solid">
  If Standard mode fails (common with Seamless Branching or irregular file structures), Safe mode is triggered automatically. You don't need to manually retry.
</Callout>

## Command options

### Force conversion (`-force`)

Override safety checks and convert Complex FEL files:

```bash
dovi_convert -convert "Movie.mkv" -force
```

<Callout icon="circle-exclamation" color="#ef9f76" iconType="solid">
  Forcing conversion on Complex FEL files produces incorrect tone mapping. The picture may appear dark, have flickering, or show other artifacts. Only use this if you understand and accept the quality loss.
</Callout>

### Delete backup (`-delete`)

Automatically delete the backup file after successful conversion:

```bash
dovi_convert -convert "Movie.mkv" -delete
```

<Callout icon="triangle-exclamation" color="#e78284" iconType="solid">
  This removes your only copy of the original Profile 7 file. Use with caution. If something goes wrong or you later want to restore the original, you can't.
</Callout>

### Debug mode (`-debug`)

Generate a detailed log file for troubleshooting:

```bash
dovi_convert -convert "Movie.mkv" -debug
```

This creates `dovi_convert_debug.log` in the current directory, containing output from all internal tools (ffmpeg, dovi_tool, mkvmerge).

### HDR10 mode (`-hdr10`)

Convert to HDR10 instead of Dolby Vision Profile 8.1:

```bash
dovi_convert -convert "Movie.mkv" -hdr10
```

This strips all Dolby Vision metadata from the file, leaving a clean HDR10 stream. If the source contains HDR10+ metadata, it is preserved in the output.

<Callout icon="circle-info" color="#8caaee" iconType="solid">
  **When to use this:** Some devices like the Nvidia Shield convert Profile 7 files to Profile 8.1 automatically during playback - even when they shouldn't. For [Complex FEL](/before-you-start#complex-fel-brightness-expansion) files, this produces incorrect tone mapping. Converting to HDR10 upfront prevents the device from attempting its own conversion. You lose the dynamic metadata, but the picture displays correctly. HDR10 is better than messed up Dovi 8.1.
</Callout>

HDR10 mode is only available with `-convert`, not `-batch`. This is intentional - stripping Dolby Vision entirely is a more significant decision than converting to Profile 8.1.

## Handling Simple FEL files

When converting a Simple FEL file, dovi_convert prompts for confirmation:

```
Simple FEL detected. This file likely converts safely, but verify with -inspect if uncertain.
Continue? [y/N]
```

This is a precaution - Simple FEL files usually convert correctly, but the scan might have missed isolated brightness spikes. If you want certainty, run `-inspect` first.

## What happens to your files

| Before                  | After                                          |
| ----------------------- | ---------------------------------------------- |
| `Movie.mkv` (Profile 7) | `Movie.mkv` (Profile 8.1)                      |
| -                       | `Movie.mkv.bak.dovi_convert` (original backup) |

The backup contains your complete original file. You can restore it by:

```bash
mv "Movie.mkv.bak.dovi_convert" "Movie.mkv"
```

### Custom output directory

Use `-o` to place the converted file in a different directory:

```bash
dovi_convert -convert "Movie.mkv" -o /output/converted
```

The converted file is placed in the output directory. Your original file is renamed to `.bak.dovi_convert` and stays in the source location. The output directory is created automatically if it does not exist.

## Troubleshooting

If conversion fails:

1. Run with `-debug` to generate a log:

   ```bash
   dovi_convert -convert "Movie.mkv" -debug
   ```
2. Check `dovi_convert_debug.log` for errors from ffmpeg, dovi_tool, or mkvmerge
3. Common issues:
   - **Seamless Branching** - Try with `-safe` mode
   - **Corrupted files** - Verify the original file plays correctly
   - **Disk space** - Safe mode needs space for the extracted video stream

## Improving performance on slow storage

If your source files are on a mechanical hard drive or network storage, conversion can be slow. This happens because the disk has to read the source file and write temporary files at the same time.

Use the `-temp` flag to write temporary files to a separate, faster drive:

```bash
dovi_convert -convert "Movie.mkv" -temp /mnt/ssd/temp
```

<Callout icon="lightbulb" color="#a6d189" iconType="solid">
Use an SSD or NVMe drive as your temp directory for best results.
</Callout>

## Next steps

<CardGroup cols={2}>
  <Card title="Batch Processing" icon="files" href="/essentials/batch">
    Convert entire directories at once
  </Card>
  <Card title="File Scanning" icon="scanner-image" href="/essentials/scanning">
    Learn more about analyzing files before conversion
  </Card>
</CardGroup>